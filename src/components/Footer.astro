---
---
<footer class="bg-slate-900 text-white pt-12 pb-8 border-t border-white/5">
  <div class="container mx-auto px-6">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mb-12 text-center md:text-left">
      
      <div class="flex flex-col items-center md:items-start space-y-4">
        <img src="/imagenes/logo_admin.png" class="h-12 w-auto" alt="Logo Grupo Castro" />
        <p class="text-slate-400 text-xs font-bold uppercase tracking-widest leading-relaxed">
          Líderes en soluciones tecnológicas en Huancayo. Innovación constante en conectividad y seguridad.
        </p>
        <div class="flex gap-3">
          <a href="https://www.facebook.com/people/Grupo-Castro/61579818473585/" target="_blank" rel="noopener noreferrer" class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-white hover:bg-[#1877F2] hover:scale-110 transition-all border border-white/10 shadow-sm">
            <i class="fab fa-facebook-f text-sm"></i>
          </a>
          <a href="https://www.instagram.com/nilhardsoft" target="_blank" rel="noopener noreferrer" class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-white hover:bg-gradient-to-tr from-yellow-400 via-pink-600 to-purple-600 hover:scale-110 transition-all border border-white/10 shadow-sm">
            <i class="fab fa-instagram text-sm"></i>
          </a>
          <a href="https://www.youtube.com/@hikvision_huancayo" target="_blank" rel="noopener noreferrer" class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-white hover:bg-[#FF0000] hover:scale-110 transition-all border border-white/10 shadow-sm">
            <i class="fab fa-youtube text-sm"></i>
          </a>
        </div>
      </div>

      <div>
        <h4 class="text-blue-500 font-black text-xs uppercase tracking-[0.2em] mb-6 italic">Recursos</h4>
        <ul class="space-y-4 text-[10px] font-bold uppercase tracking-tighter text-slate-300">
          
          <li class="flex flex-col gap-2 items-center md:items-start">
            <span class="flex items-center gap-2 text-white"><i class="fas fa-download text-blue-500"></i> Drivers Tiqueteras:</span>
            <div class="flex flex-wrap justify-center md:justify-start gap-2 ml-4">
              <a href="https://proyectocastro.com/APP/POS.exe" class="hover:text-white bg-white/5 px-2 py-1 rounded border border-white/10 transition-colors">Driver POS</a>
              <a href="https://proyectocastro.com/APP/Driver-POS89E.zip" class="hover:text-white bg-white/5 px-2 py-1 rounded border border-white/10 transition-colors">Driver POS89E</a>
            </div>
          </li>

          <li class="flex flex-col gap-2 items-center md:items-start">
            <span class="flex items-center gap-2 text-white">
              <i class="fab fa-android text-green-500"></i> App Facturación (Android):
            </span>
            <div class="flex flex-wrap justify-center md:justify-start gap-2 ml-4">
              <a href="https://proyectocastro.com/APP/NILHARDSOFT.apk" class="hover:text-white bg-white/5 px-2 py-1 rounded border border-white/10 transition-colors">APP NilHardSoft</a>
              <a href="https://proyectocastro.com/APP/PERUORG.apk" class="hover:text-white bg-white/5 px-2 py-1 rounded border border-white/10 transition-colors">APP PERUORG</a>
              <a href="https://proyectocastro.com/APP/PERUCOM.apk" class="hover:text-white bg-white/5 px-2 py-1 rounded border border-white/10 transition-colors">APP PERU.COM</a>
            </div>
          </li>

          <li>
            <a href="https://wa.me/51993996443?text=Hola,%20necesito%20soporte%20técnico%20con%20el%20sistema." target="_blank" class="flex items-center gap-2 justify-center md:justify-start hover:text-white transition-colors">
              <i class="fas fa-headset text-blue-500"></i> Soporte AnyDesk
            </a>
          </li>

          <li class="pt-2">
            <a href="https://reclamaciones.proyectocastro.com/" target="_blank" class="inline-block py-2 px-4 border border-orange-500/50 rounded-lg text-orange-500 hover:bg-orange-500/10 transition-all">
              <i class="fas fa-book mr-2"></i> Libro de Reclamaciones
            </a>
          </li>
        </ul>
      </div>

      <div>
        <h4 class="text-blue-500 font-black text-xs uppercase tracking-[0.2em] mb-6 italic">Contacto</h4>
        <ul class="space-y-4 text-[10px] font-bold uppercase tracking-tighter text-slate-300">
          <li class="flex items-start gap-3 justify-center md:justify-start leading-tight">
            <i class="fas fa-map-marker-alt text-blue-500 mt-1"></i>
            <span>Psje. La Capatina Nro. 102 - Miluchaca<br/>Huancayo, Junín, Perú</span>
          </li>
          <li class="flex items-center gap-3 justify-center md:justify-start">
            <i class="fas fa-envelope text-blue-500"></i>
            <a id="lnkEmailTo" href="mailto:contacto@grupocastro.org"><span> contacto@grupocastro.org</span>
            </a>
          </li>
          <li class="flex items-center gap-3 justify-center md:justify-start">
            <i class="fas fa-phone-alt text-blue-500"></i>
            <span>064 600070</span>
          </li>
        </ul>
      </div>

      <div class="bg-slate-800/40 p-5 rounded-2xl border border-white/5 shadow-xl max-w-sm mx-auto md:mx-0">
        <h4 class="text-white font-black text-xs uppercase tracking-widest mb-4 italic text-center md:text-left">Escríbenos</h4>
        <form id="contactForm" class="space-y-3" novalidate>
          <input type="text" id="nombre" required placeholder="NOMBRE" class="w-full bg-slate-900/50 border border-white/10 rounded-lg px-3 py-2 text-[9px] font-bold focus:outline-none focus:border-blue-500 text-white uppercase" />
          <input type="text" id="contacto" required placeholder="CELULAR O CORREO" class="w-full bg-slate-900/50 border border-white/10 rounded-lg px-3 py-2 text-[9px] font-bold focus:outline-none focus:border-blue-500 text-white uppercase" />
          <textarea id="mensaje" required placeholder="MENSAJE" rows="1" class="w-full bg-slate-900/50 border border-white/10 rounded-lg px-3 py-2 text-[9px] font-bold focus:outline-none focus:border-blue-500 text-white uppercase resize-none"></textarea>
          
          <div class="flex items-center gap-2">
            <div id="captchaBox" class="bg-blue-600 text-white font-black italic tracking-widest px-2 py-2 rounded-lg select-none text-[10px] min-w-[65px] text-center shadow-lg shadow-blue-600/20"></div>
            <button type="button" id="refreshCaptcha" class="text-slate-400 hover:text-white transition-colors p-1">
              <i class="fas fa-sync-alt text-xs"></i>
            </button>
            <input type="text" id="captchaInput" required placeholder="CÓDIGO" class="w-24 bg-slate-900/50 border border-white/10 rounded-lg px-2 py-2 text-[9px] font-bold focus:outline-none focus:border-blue-500 text-white uppercase" />
          </div>

          <button type="submit" class="w-full bg-blue-600 hover:bg-blue-500 text-white font-black py-3 rounded-xl text-[10px] uppercase tracking-[0.2em] transition-all active:scale-95 shadow-lg shadow-blue-600/30">
            Enviar Mensaje
          </button>
          <p id="formStatus" class="text-[8px] font-bold uppercase text-center mt-1 hidden"></p>
        </form>
      </div>
    </div>

    <div class="pt-6 border-t border-white/5 flex flex-col items-center gap-4 text-center">
      <div class="flex gap-6 opacity-30 grayscale h-4 items-center">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg" alt="Visa" class="h-full" />
        <img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg" alt="Mastercard" class="h-full" />
        <img src="https://www.sunat.gob.pe/img_html/logo_sunat.png" alt="Sunat" class="h-4 opacity-80" />
      </div>
      <p class="text-[8px] font-black text-slate-500 uppercase tracking-[0.3em]">
        Copyright © <span class="text-blue-500">NilHardSoft.org</span> 2006 - 2026.
      </p>
    </div>
  </div>
</footer>

<script>
  const form = document.getElementById('contactForm') as HTMLFormElement | null;
  const contactInput = document.getElementById('contacto') as HTMLInputElement | null;
  const nombreInput = document.getElementById('nombre') as HTMLInputElement | null;
  const mensajeInput = document.getElementById('mensaje') as HTMLInputElement | null;
  const captchaInput = document.getElementById('captchaInput') as HTMLInputElement | null;
  const captchaBox = document.getElementById('captchaBox');
  const statusMsg = document.getElementById('formStatus');

  let currentCaptcha = "";

  function generateCaptcha() {
    const chars = "ABCDEFGHJKLMNPQRSTUVWXYZ23456789";
    let result = "";
    for (let i = 0; i < 5; i++) {
      result += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    currentCaptcha = result;
    if (captchaBox) captchaBox.innerText = result;
  }

  generateCaptcha();
  document.getElementById('refreshCaptcha')?.addEventListener('click', generateCaptcha);

  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const contactValue = contactInput?.value.trim() || "";
    const captchaValue = captchaInput?.value.toUpperCase();

    // EXPRESIONES REGULARES DE VALIDACIÓN
    const phoneRegex = /^9\d{8}$/;
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    const extensionRegex = /\.(com|org|net|edu|gov|mil|pe|es|io|tech)$/i;

    // VALIDACIÓN DE IDENTIDAD
    const isPhone = phoneRegex.test(contactValue);
    const isEmail = emailRegex.test(contactValue) && extensionRegex.test(contactValue);

    if (!isPhone && !isEmail) {
      showStatus("Error: Ingrese celular (9 dígitos) o correo con extensión válida.", "text-red-500");
      return;
    }

    // VALIDACIÓN DE CAPTCHA
    if (captchaValue !== currentCaptcha) {
      showStatus("Error: Código Captcha incorrecto.", "text-red-500");
      generateCaptcha();
      return;
    }

    // ENVÍO DE DATOS A FORMSPREE
    showStatus("Enviando mensaje...", "text-blue-500");

    const formData = new FormData();
    formData.append('Nombre', nombreInput?.value || "");
    formData.append('Contacto', contactValue);
    formData.append('Mensaje', mensajeInput?.value || "");

    try {
      const response = await fetch('https://formspree.io/f/xjgobwye', { // REEMPLAZA CON TU ID
        method: 'POST',
        body: formData,
        headers: { 'Accept': 'application/json' }
      });

      if (response.ok) {
        showStatus("¡Mensaje enviado con éxito!", "text-green-500");
        form.reset();
        generateCaptcha();
      } else {
        showStatus("Error en el servidor. Intente más tarde.", "text-red-500");
      }
    } catch (error) {
      showStatus("Error de conexión. Revise su internet.", "text-red-500");
    }
  });

  function showStatus(msg, colorClass) {
    if (statusMsg) {
      statusMsg.innerText = msg;
      statusMsg.className = `text-[8px] font-bold uppercase text-center mt-1 ${colorClass}`;
      statusMsg.classList.remove('hidden');
      setTimeout(() => statusMsg.classList.add('hidden'), 5000);
    }
  }
</script>