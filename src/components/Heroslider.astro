---
const slides = [
  {
    title: "INTERNET SATELITAL <br> <span class='text-yellow-400 uppercase font-black tracking-tighter'>Starlink</span> & <span class='text-sky-400 uppercase font-black tracking-tighter'>Fibra Óptica</span>",
    subtitle: "Vea películas, haga videollamadas, juegue y más...",
    items: [
      { text: "Starlink Mini incluye todo lo que necesita para conectarse.", color: "bg-sky-400", icon: "fas fa-wifi" },
      { text: "Planes de servicio residencial con opciones de datos ilimitados.", color: "bg-green-500", icon: "fas fa-signal" },
      { text: "Instale el Starlink en solo dos pasos.", color: "bg-orange-600", icon: "fas fa-rocket" }
    ],
    image: "/imagenes/internet_hibrido.png",
    bgGradient: "from-slate-950 via-slate-900 to-blue-950"
  },
  {
    title: "<span class='text-red-600 font-black tracking-tight'>HIKVISION</span> HUANCAYO - INSTALACIÓN <br> DE CAMARAS DE VIGILANCIA",
    subtitle: "Más que un <span class='text-red-600 font-bold'>Técnico</span> una <span class='text-white font-bold italic underline decoration-red-600'>solución...</span>",
    items: [
      { text: "Instalación profesional de cámaras IP o Analógicas.", color: "bg-red-600", icon: "fas fa-tools" },
      { text: "Monitoreo en tiempo real desde cualquier lugar.", color: "bg-zinc-600", icon: "fas fa-video" },
      { text: "Asesoría experta para seguridad residencial e industrial.", color: "bg-red-600", icon: "fas fa-shield-alt" }
    ],
    image: "/imagenes/hikvision_huancayo.png",
    bgGradient: "from-zinc-900 via-zinc-800 to-black"
  },
  {
    title: "FACTURACIÓN <span class='text-sky-500 font-black tracking-tight'>ELECTRÓNICA</span> <br> <span class='text-red-500 uppercase font-black tracking-tighter'>SUNAT - HUANCAYO</span>",
    subtitle: "La manera más <span class='text-blue-700 font-bold'>eficiente</span> de operar su negocio.",
    items: [
      { text: "Proveedores de Facturación Electrónica Autorizados por SUNAT.", color: "bg-blue-700", icon: "fas fa-file-invoice" },
      { text: "Agiliza compras, ventas y control de gastos.", color: "bg-red-600", icon: "fas fa-chart-line" },
      { text: "Soporte técnico 24/7 y capacitación constante.", color: "bg-blue-800", icon: "fas fa-headset" }
    ],
    image: "/imagenes/facturacion_electronico.png",
    bgGradient: "from-blue-900 via-blue-950 to-slate-950"
  }
];
---

<section class="relative min-h-[600px] flex items-center overflow-hidden bg-slate-900">
  <div class="absolute inset-0 z-0 opacity-40" style="clip-path: polygon(0 0, 60% 0, 40% 100%, 0% 100%); background: black;"></div>

  {slides.map((slide, index) => (
    <div 
      class={`slide absolute inset-0 transition-all duration-1000 flex items-center bg-gradient-to-br ${slide.bgGradient} ${index === 0 ? 'opacity-100 z-10 active' : 'opacity-0 z-0'}`}
    >
      <div class="container mx-auto px-6 relative z-20 flex flex-col md:flex-row items-center py-12">
        <div class="w-full md:w-3/5 text-white slide-text transform -translate-x-24 opacity-0 transition-all duration-1000 delay-300">
          <h1 class="text-3xl md:text-5xl font-black mb-6 leading-tight uppercase drop-shadow-2xl" set:html={slide.title}></h1>
          <p class="text-xl mb-10 italic font-medium text-blue-100" set:html={slide.subtitle}></p>
          
          <div class="space-y-6 max-w-xl">
            {slide.items.map(item => (
              <div class="flex items-center gap-4 group">
                <div class={`${item.color} w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center text-white text-xl shadow-xl transition-transform group-hover:scale-110 shrink-0`}>
                  <i class={item.icon}></i>
                </div>
                <p class="text-sm md:text-base font-semibold leading-snug">{item.text}</p>
              </div>
            ))}
          </div>

          <div class="flex items-center gap-4 mt-10 mb-6">
             <div class="flex gap-2">
                <button class="prevBtn w-10 h-10 rounded-full border border-white/30 text-white flex items-center justify-center hover:bg-white hover:text-blue-900 transition-all">
                    <i class="fas fa-chevron-left text-xs"></i>
                </button>
                <button class="nextBtn w-10 h-10 rounded-full border border-white/30 text-white flex items-center justify-center hover:bg-white hover:text-blue-900 transition-all">
                    <i class="fas fa-chevron-right text-xs"></i>
                </button>
             </div>
             <div class="flex gap-2 dotsContainer">
                {slides.map((_, i) => (
                    <div class={`h-1.5 rounded-full transition-all duration-500 dot-indicator ${i === 0 ? 'w-10 bg-orange-500' : 'w-4 bg-white/30'}`}></div>
                ))}
             </div>
          </div>

          <div class="flex flex-wrap gap-4">
            <a href="https://wa.me/51993996443" 
               target="_blank" 
               class="bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-md font-black flex items-center gap-2 shadow-xl transition-all hover:-translate-y-1 text-sm uppercase no-underline">
              Más Información
            </a>
          </div>
        </div>

        <div class="hidden md:flex md:w-2/5 mt-10 md:mt-0 justify-center slide-image transform translate-x-24 opacity-0 transition-all duration-1000 delay-500">
          <img src={slide.image} class="max-w-full h-auto drop-shadow-[0_35px_35px_rgba(0,0,0,0.5)] animate-float" />
        </div>
      </div>
    </div>
  ))}
</section>

<style>
  @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
  .animate-float { animation: float 6s ease-in-out infinite; }
  .slide.active .slide-text, .slide.active .slide-image { transform: translate(0); opacity: 1; }
</style>

<script>
  const slides = document.querySelectorAll('.slide');
  const btnNexts = document.querySelectorAll('.nextBtn');
  const btnPrevs = document.querySelectorAll('.prevBtn');
  let current = 0;

  function updateSlide(index: number) {
    slides.forEach((s, i) => {
      const isActive = i === index;
      s.classList.toggle('opacity-100', isActive);
      s.classList.toggle('z-10', isActive);
      s.classList.toggle('active', isActive);
      s.classList.toggle('opacity-0', !isActive);
      s.classList.toggle('z-0', !isActive);
      
      const allDots = s.querySelectorAll('.dot-indicator');
      allDots.forEach((d, dotIndex) => {
         d.classList.toggle('w-10', dotIndex === index);
         d.classList.toggle('bg-orange-500', dotIndex === index);
         d.classList.toggle('w-4', dotIndex !== index);
         d.classList.toggle('bg-white/30', dotIndex !== index);
      });
    });
  }

  btnNexts.forEach(btn => btn?.addEventListener('click', () => {
    current = (current + 1) % slides.length;
    updateSlide(current);
  }));

  btnPrevs.forEach(btn => btn?.addEventListener('click', () => {
    current = (current - 1 + slides.length) % slides.length;
    updateSlide(current);
  }));

  setInterval(() => {
    current = (current + 1) % slides.length;
    updateSlide(current);
  }, 9000);
</script>
